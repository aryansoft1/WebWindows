<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>数据中心管理</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
  <link href="https://unpkg.com/lucide-static@latest/font/lucide.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/global.css">
  <link rel="stylesheet" href="assets/css/admin.css">
</head>
<body class="bg-gray-100 p-6 text-sm">
  <div class="max-w-5xl mx-auto bg-white p-6 rounded shadow">
    <div class="flex justify-between items-center mb-4">
      <h1 class="text-xl font-bold">数据中心管理</h1>
      <button onclick="openDataCenterForm()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">➕ 新建数据中心</button>
    </div>

    <table class="w-full table-auto border">
      <thead class="bg-gray-100">
        <tr>
          <th class="p-2 border">名称</th>
          <th class="p-2 border">接口地址</th>
          <th class="p-2 border">状态</th>
          <th class="p-2 border">操作</th>
        </tr>
      </thead>
      <tbody id="dataCenterTableBody">
        <tr>
          <td class="p-2 border">节点A（上海）</td>
          <td class="p-2 border">https://api.node-a.example.com</td>
          <td class="p-2 border text-green-600">正常</td>
          <td class="p-2 border">
            <button class="text-blue-600 hover:underline mr-2" onclick="editDataCenter('节点A（上海）')">编辑</button>
            <button class="text-red-600 hover:underline" onclick="deleteDataCenter('节点A（上海）')">删除</button>
          </td>
        </tr>
        <tr>
          <td class="p-2 border">节点B（东京）</td>
          <td class="p-2 border">https://api.node-b.example.com</td>
          <td class="p-2 border text-green-600">正常</td>
          <td class="p-2 border">
            <button class="text-blue-600 hover:underline mr-2" onclick="editDataCenter('节点B（东京）')">编辑</button>
            <button class="text-red-600 hover:underline" onclick="deleteDataCenter('节点B（东京）')">删除</button>
          </td>
        </tr>
        <tr>
          <td class="p-2 border">节点C（香港）</td>
          <td class="p-2 border">https://api.node-c.example.com</td>
          <td class="p-2 border text-yellow-600">维护中</td>
          <td class="p-2 border">
            <button class="text-blue-600 hover:underline mr-2" onclick="editDataCenter('节点C（香港）')">编辑</button>
            <button class="text-red-600 hover:underline" onclick="deleteDataCenter('节点C（香港）')">删除</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- 数据中心表单弹窗 -->
  <div id="dataCenterModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded shadow w-full max-w-md">
      <h2 class="text-lg font-bold mb-4">添加/编辑数据中心</h2>
      <form id="dataCenterForm">
        <label class="block mb-2">名称</label>
        <input type="text" id="centerName" class="w-full border rounded px-3 py-1 mb-3" required />

        <label class="block mb-2">接口地址</label>
        <input type="url" id="centerURL" class="w-full border rounded px-3 py-1 mb-3" required />

        <button type="button" onclick="checkEndpoint()" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600">检测接口有效性</button>

        <div class="flex justify-end gap-2 mt-6">
          <button type="button" onclick="closeDataCenterForm()" class="px-4 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded">取消</button>
          <button type="submit" class="px-4 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded">保存</button>
        </div>
      </form>
    </div>
  </div>

  <script src="assets/js/datacenter.js"></script>
</body>
</html>
